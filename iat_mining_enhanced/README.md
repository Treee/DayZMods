# Mining Enhanced

This mod attempts to bring elements of Minecraft into DayZ while maintaining the spirit of DayZ. Using a shovel to prep an area for a mine entrance, a pickaxe or other suitable mining tool can take down the walls/floors and ceilings of a new unexeplored underground network of tunnels. Make sure to fortify the base of a tunnel before digging too deep or you might find yourself in a difficult situation. Ores and gems provided from mining will help form the foundation of any smelting or materials processing crafting systems.

## Mechanics

-   Entrances teleport players from the map surface to the mining system and must be spaced at least 100m apart.
-   Junctions allow mining in six directions, each with two breakable walls to access new areas.
-   Junctions can be fortified with 10 wooden logs for free vertical movement; unfortified deep digging is dangerous.
-   Entrances create fully fortified junctions by default.
-   Ore distribution in junctions is configurable and can overlap, allowing varied patterns and yields.
-   The mining system is located about 2500m above the map, with a default depth of 100m.
-   All mining actions use vanilla mechanics to avoid conflicts.
-   Tool damage and durability are configurable.

## Usage

-   Subscribe to the mod and start the server. This will create the main configuration file
    `$profile:\ItsATreeMods\MiningConfig.json`

-   Bring a shovel in hands and look towards a diggable surface (dirt or forrest) and move around until you find a suitable entrance dig spot. The entrances need 8m of space between to maintain alignment with the mining tunnels so keep trying if you cannot find a spot.

-   Once the entrance is dug, you can press `F` to interact and be teleported to the mining system.

-   You are now inside the tunnels and need a pickaxe (or other suitable mining tool) to begin mining the walls to open up the junction.

### Fortifying a Mining Tunnel

-   The further you mine the less stable the tunnels become which ultimately requires the need to reinforce the mining segments with wooden logs.

-   Bring wooden logs into the tunnels and attach 10 to each side in order to reinforce.

-   For up/down movement, reinforcing is required in order to "get back up"

## Configuration

The below is an example of the default config file. This section will attempt to define and describe what these properties do.

```json
{
    "m_SkySurfaceY": 2500, // max height (meters)
    "m_MaxDepth": 500, // depth a player can dig from m_SkySurfaceY (meters)
    "m_EdgeBuffer": 20, // the buffer around the map (meters)
    "m_MinimumDistanceBetweenEntrances": 100, // the minimum distance between entrances (meters)
    "m_MaxWallSupportCount": 10, // the amount of wall supports needed to fortify a wall section
    "m_MinimumOreYieldChance": 0.029999999329447748, // the absolute lowest chance for ore to spawn
    "m_IAT_OreYieldManager": {
        "m_OreTypes": [
            // string array of ore types. ie. "iron", "copper", etc...
        ],
        "m_OreYields": [
            {
                "m_OreType": "iron", // name of the ore yield. this should match one in the list above
                "m_OreYieldList": [
                    // an array of areas
                    {
                        // the center of the area
                        "m_Center": [10278.7001953125, 2464.889892578125, 6826.85009765625],
                        "m_Radius": 522.8507080078125, // the radius of the circle
                        "m_Intensity": 1.5 // the yield intensity of the area
                    }
                ]
            }
            // .. more ore yields
        ]
    },
    "m_IAT_MiningSegmentConfigs": [
        // autogenerated items.  no need to touch this
    ]
}
```

### General Properties

#### m_SkySurfaceY

The max height the tunnels spawn. This height is representative of the surface the entrance is placed upon but up in the air so we can have a simualted environment. This value needs to be high enough that when digging down, players will not see spawned junctions. Default value is 2500 meters.

#### m_MaxDepth

The max depth a player can dig down in the tunnels. Default value is 500 meters. Setting this value too high can cause junctions to be seen from terrain surface level.

#### m_EdgeBuffer

This is a buffer around the map to ensure junctions do not get spawned outside of the normal map boundaries. Default value is 20 meters. Honestly I am not sure if this should of even been a configurable property so if you change it do so at your own risk.

#### m_MinimumDistanceBetweenEntrances

This is the minimum distance any entrance can be created from one another. This helps cut down on entrance spam and clamps the total number of entrances into the mining system. 100 meters is the default value and can be modified as you feel appropriate. I personally would not go lower than 100m

#### m_MaxWallSupportCount

This is the amount of logs needed to fortify a wall section. Since there are 6 sections, a fully fortified junction takes 60 logs. The amount of logs used to fortify the junction is not saved between restarts so make sure to always complete a segement and not leave it for a restart.

#### m_MinimumOreYieldChance

This is the absolute minimum chance for ore to spawn even when there is no hotspot in the area. This allows even the rarest ores and gems to be available through brute force. Default value is 0.03 (3%)

### Ore Yield Manager

The ore yield manager controls what types of ores are available and where they spawn. The default values are randomly generated and meant to be changed by server owners after reading this document.

#### m_OreTypes

This is a string array of all the ores that can be spawned. I name my ores IAT_SomeOres_Colorbase where colorbase is the type of ore that can be spawned. If you plan on adding more ores, I suggest you follow a similar naming convention or study the item creation script in `ActionMineRock`.

#### m_OreYields

This is an array of objects that represent circles of ore spawns. Each object has a center and radius which forms the circular area this type of ore can spawn. Intensity is a multiplier of the normal chance to spawn. This means if a player rolls a `0.5` in an area with `1.5` intensity, their roll is enhanced/modified `0.5 + (0.5 * 1.5) = 1.25`, a guaranteed rolls vs a `0.5` roll in an area with only `1.0` intensity the roll is modified `0.5 + (0.5 * 1.0) = 1.0`, a guaranteed roll but only at the exact center.

## Default Ores and Gems

These are the default ores and gems that come with this modpack. They provide the foundation of any type of smelting or materials crafting.

### üõ†Ô∏è **Metals**

| Material      | Hex Color             | Notes                                      |
| ------------- | --------------------- | ------------------------------------------ |
| **Iron**      | `#43464B`             | Dark gray with bluish tint (oxidized look) |
| **Copper**    | `#B87333`             | Classic warm reddish-orange metallic tone  |
| **Aluminium** | `#DADCE0`             | Pale silvery-gray, almost white            |
| **Lead**      | `#5C5D60`             | Muted bluish gray, heavy/dull tone         |
| **Zinc**      | `#7F8C8D`             | Neutral metallic gray with a cool touch    |
| **Tin**       | `#C0C0C0`             | Lighter silver with slight gloss           |
| **Silver**    | `#C0C0C0` ‚Üí `#E5E5E5` | Gradient from flat to shiny silver         |
| **Gold**      | `#FFD700` ‚Üí `#FFB700` | Gradient from vibrant to darker gold       |

---

### **Minerals & Earths**

| Material         | Hex Color             | Notes                                     |
| ---------------- | --------------------- | ----------------------------------------- |
| **Coal**         | `#1C1C1C`             | Deep matte black                          |
| **Saltpeter**    | `#F4F4F4`             | Powdery pale off-white                    |
| **Sulfur**       | `#F6E300`             | Bright lemon yellow                       |
| **SaltCrystals** | `#EAF3FA`             | Transparent icy blue-white                |
| **Clay**         | `#B66A50`             | Reddish brown, earthen tone               |
| **Quartz**       | `#D9D9D9` ‚Üí `#FFFFFF` | Gradient from gray to white (crystalline) |

---

### üíé **Gemstones**

| Gemstone     | Hex Color             | Notes                                      |
| ------------ | --------------------- | ------------------------------------------ |
| **Amethyst** | `#9966CC`             | Deep violet-purple                         |
| **Topaz**    | `#FFC87C` ‚Üí `#FFB347` | Gradient from light golden-orange to amber |
| **Ruby**     | `#E0115F`             | Rich crimson red                           |
| **Sapphire** | `#0F52BA`             | Deep royal blue                            |
| **Diamond**  | `#E5F9FF` ‚Üí `#BFEFFF` | Icy pale blue gradient with brilliance     |

---

# Attribution
